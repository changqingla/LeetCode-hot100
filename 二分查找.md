# äºŒåˆ†æŸ¥æ‰¾ä¸“é¢˜

## ğŸ” äºŒåˆ†æŸ¥æ‰¾åŸºç¡€çŸ¥è¯†

### ğŸ“– å®šä¹‰

**äºŒåˆ†æŸ¥æ‰¾**ï¼ˆBinary Searchï¼‰æ˜¯ä¸€ç§åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ çš„ç®—æ³•ã€‚æ¯æ¬¡æŸ¥æ‰¾æ—¶ï¼Œé€šè¿‡å°†æŸ¥æ‰¾åŒºé—´åˆ†æˆä¸¤åŠï¼Œå¹¶åªåœ¨å…¶ä¸­ä¸€åŠç»§ç»­æŸ¥æ‰¾ï¼Œå°†æŸ¥æ‰¾èŒƒå›´ç¼©å°ä¸€åŠã€‚

### âš¡ æ ¸å¿ƒç‰¹å¾

1. **æœ‰åºæ€§**ï¼šæ•°ç»„å¿…é¡»æ˜¯æœ‰åºçš„ï¼ˆå‡åºæˆ–é™åºï¼‰
2. **å¯¹æ•°æ—¶é—´**ï¼šæ—¶é—´å¤æ‚åº¦ä¸ºO(log n)
3. **åŒºé—´ç¼©å°**ï¼šæ¯æ¬¡æ¯”è¾ƒåï¼Œæœç´¢åŒºé—´ç¼©å°ä¸€åŠ

### ğŸ¯ äºŒåˆ†æŸ¥æ‰¾çš„ç±»å‹

#### 1. åŸºæœ¬äºŒåˆ†æŸ¥æ‰¾
```python
# æŸ¥æ‰¾ç›®æ ‡å€¼
def binary_search(nums, target):
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = (left + right) // 2
        if nums[mid] == target:
            return mid
        elif nums[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return -1
```

#### 2. å·¦è¾¹ç•ŒæŸ¥æ‰¾ï¼ˆç¬¬ä¸€ä¸ªç­‰äºtargetçš„ä½ç½®ï¼‰
```python
# æŸ¥æ‰¾ç¬¬ä¸€ä¸ª >= target çš„ä½ç½®
def left_bound(nums, target):
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = (left + right) // 2
        if nums[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return left
```

#### 3. å³è¾¹ç•ŒæŸ¥æ‰¾ï¼ˆæœ€åä¸€ä¸ªç­‰äºtargetçš„ä½ç½®ï¼‰
```python
# æŸ¥æ‰¾æœ€åä¸€ä¸ª <= target çš„ä½ç½®
def right_bound(nums, target):
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = (left + right) // 2
        if nums[mid] <= target:
            left = mid + 1
        else:
            right = mid - 1
    
    return right
```

### ğŸ Pythonå®ç°è¦ç‚¹

```python
# é˜²æ­¢æ•´æ•°æº¢å‡ºçš„midè®¡ç®—
mid = left + (right - left) // 2

# å¾ªç¯æ¡ä»¶ï¼šleft <= right
# é€€å‡ºæ—¶ï¼šleft > right

# æŸ¥æ‰¾åŒºé—´ï¼š[left, right]
# å·¦è¾¹ç•Œï¼šleft = mid + 1 æˆ– right = mid - 1
# å³è¾¹ç•Œï¼šleft = mid + 1 æˆ– right = mid - 1
```

### ğŸ“ äºŒåˆ†æŸ¥æ‰¾çš„åº”ç”¨åœºæ™¯

- **æŸ¥æ‰¾ç‰¹å®šå…ƒç´ **ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼
- **æŸ¥æ‰¾æ’å…¥ä½ç½®**ï¼šæ‰¾åˆ°å…ƒç´ åº”è¯¥æ’å…¥çš„ä½ç½®
- **æŸ¥æ‰¾è¾¹ç•Œ**ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ä½ç½®
- **æ—‹è½¬æ•°ç»„æŸ¥æ‰¾**ï¼šåœ¨æ—‹è½¬æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ 
- **çŸ©é˜µæœç´¢**ï¼šåœ¨æœ‰åºçŸ©é˜µä¸­æŸ¥æ‰¾å…ƒç´ 

---

## ğŸ“‹ é¢˜ç›®ç›®å½•

| é¢˜å· | é¢˜ç›®åç§° | éš¾åº¦ | æ ¸å¿ƒæŠ€å·§ |
|------|----------|------|----------|
| 35 | æœç´¢æ’å…¥ä½ç½® | ç®€å• | åŸºæœ¬äºŒåˆ†æŸ¥æ‰¾ |
| 74 | æœç´¢äºŒç»´çŸ©é˜µ | ä¸­ç­‰ | äºŒç»´äºŒåˆ†æŸ¥æ‰¾ |
| 34 | æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® | ä¸­ç­‰ | å·¦å³è¾¹ç•ŒæŸ¥æ‰¾ |
| 33 | æœç´¢æ—‹è½¬æ’åºæ•°ç»„ | ä¸­ç­‰ | æ—‹è½¬æ•°ç»„äºŒåˆ†æŸ¥æ‰¾ |
| 153 | å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ | ä¸­ç­‰ | æ—‹è½¬æ•°ç»„æœ€å°å€¼ |
| 4 | å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° | å›°éš¾ | åˆ†æ²»æ³• |

---

## 35. æœç´¢æ’å…¥ä½ç½®

**é¢˜ç›®æè¿°ï¼š**

ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚

è¯·å¿…é¡»ä½¿ç”¨æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•ã€‚

**æµ‹è¯•ç”¨ä¾‹ï¼š**

```
ç¤ºä¾‹ 1ï¼š
è¾“å…¥: nums = [1,3,5,6], target = 5
è¾“å‡º: 2

ç¤ºä¾‹ 2ï¼š
è¾“å…¥: nums = [1,3,5,6], target = 2
è¾“å‡º: 1

ç¤ºä¾‹ 3ï¼š
è¾“å…¥: nums = [1,3,5,6], target = 7
è¾“å‡º: 4
```

**æœ€ç®€å•å®ç°ï¼š**

```python
def searchInsert(nums, target):
    """
    äºŒåˆ†æŸ¥æ‰¾æ’å…¥ä½ç½®
    
    æ€è·¯ï¼š
    1. ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°ç¬¬ä¸€ä¸ª >= target çš„ä½ç½®
    2. è¿™ä¸ªä½ç½®å°±æ˜¯targetåº”è¯¥æ’å…¥çš„ä½ç½®
    3. å¦‚æœtargetå­˜åœ¨ï¼Œè¿”å›å…¶ç´¢å¼•ï¼›å¦åˆ™è¿”å›æ’å…¥ä½ç½®
    
    æ—¶é—´å¤æ‚åº¦ï¼šO(log n)
    ç©ºé—´å¤æ‚åº¦ï¼šO(1)
    """
    if not nums:
        return 0
    
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = (left + right) // 2
        
        if nums[mid] == target:
            return mid
        elif nums[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    # æ­¤æ—¶leftå°±æ˜¯æ’å…¥ä½ç½®
    return left

# æµ‹è¯•ç”¨ä¾‹
print(searchInsert([1,3,5,6], 5))  # è¾“å‡º: 2
print(searchInsert([1,3,5,6], 2))  # è¾“å‡º: 1
print(searchInsert([1,3,5,6], 7))  # è¾“å‡º: 4
print(searchInsert([1,3,5,6], 0))  # è¾“å‡º: 0
```

**è§£é¢˜æ€è·¯è¯¦è§£ï¼š**

è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯ä½¿ç”¨**äºŒåˆ†æŸ¥æ‰¾**ï¼š

**æ ¸å¿ƒåŸç†ï¼š**
- åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼
- å¦‚æœæ‰¾åˆ°ï¼Œè¿”å›ç´¢å¼•
- å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›åº”è¯¥æ’å…¥çš„ä½ç½®

**ç®—æ³•æµç¨‹ï¼š**
1. åˆå§‹åŒ–left=0, right=len(nums)-1
2. while left <= right:
   - mid = (left + right) // 2
   - å¦‚æœnums[mid] == targetï¼Œè¿”å›mid
   - å¦‚æœnums[mid] < targetï¼Œleft = mid + 1
   - å¦‚æœnums[mid] > targetï¼Œright = mid - 1
3. å¾ªç¯ç»“æŸåï¼Œleftå°±æ˜¯æ’å…¥ä½ç½®

**ä¸ºä»€ä¹ˆleftæ˜¯æ’å…¥ä½ç½®ï¼Ÿ**
- å½“å¾ªç¯é€€å‡ºæ—¶ï¼Œleft > right
- leftæŒ‡å‘ç¬¬ä¸€ä¸ª >= target çš„ä½ç½®
- å¦‚æœtargetå­˜åœ¨ï¼Œè¿™ä¸ªä½ç½®å°±æ˜¯targetçš„ä½ç½®
- å¦‚æœtargetä¸å­˜åœ¨ï¼Œè¿™ä¸ªä½ç½®å°±æ˜¯æ’å…¥ä½ç½®

**ä¸¾ä¾‹è¯´æ˜ï¼š**
```
nums = [1,3,5,6], target = 2

åˆå§‹åŒ–ï¼šleft=0, right=3

ç¬¬ä¸€æ¬¡å¾ªç¯ï¼š
mid = (0+3)//2 = 1, nums[1]=3 > 2
right = 1-1 = 0

ç¬¬äºŒæ¬¡å¾ªç¯ï¼š
left=0, right=0
mid = (0+0)//2 = 0, nums[0]=1 < 2
left = 0+1 = 1

ç¬¬ä¸‰æ¬¡å¾ªç¯ï¼šleft=1 > right=0ï¼Œé€€å‡º
è¿”å›left=1 âœ“
```

**æ—¶é—´å¤æ‚åº¦è¯æ˜ï¼š**
- æ¯æ¬¡å¾ªç¯ï¼Œæœç´¢åŒºé—´ç¼©å°ä¸€åŠ
- æœ€åæƒ…å†µï¼šO(log n)
- æ€»å¤æ‚åº¦ï¼šO(log n)

---

## 74. æœç´¢äºŒç»´çŸ©é˜µ

**é¢˜ç›®æè¿°ï¼š**

ç»™ä½ ä¸€ä¸ªæ»¡è¶³ä¸‹è¿°ä¸¤æ¡å±æ€§çš„ m x n æ•´æ•°çŸ©é˜µï¼š

- æ¯è¡Œä¸­çš„æ•´æ•°ä»å·¦åˆ°å³æŒ‰éä¸¥æ ¼é€’å¢é¡ºåºæ’åˆ—ã€‚
- æ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°å¤§äºå‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•´æ•°ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•° target ï¼Œå¦‚æœ target åœ¨çŸ©é˜µä¸­ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

![æœç´¢äºŒç»´çŸ©é˜µç¤ºæ„å›¾](./imgs/74.png)

**æµ‹è¯•ç”¨ä¾‹ï¼š**

```
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šmatrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3
è¾“å‡ºï¼štrue

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šmatrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 13
è¾“å‡ºï¼šfalse
```

**æœ€ç®€å•å®ç°ï¼š**

```python
def searchMatrix(matrix, target):
    """
    æœç´¢äºŒç»´çŸ©é˜µï¼šä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾
    
    æ€è·¯ï¼š
    1. å…ˆå¯¹è¡Œè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å¯èƒ½åŒ…å«targetçš„è¡Œ
    2. ç„¶ååœ¨è¯¥è¡Œä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾
    
    æ—¶é—´å¤æ‚åº¦ï¼šO(log m + log n) = O(log(m*n))
    ç©ºé—´å¤æ‚åº¦ï¼šO(1)
    """
    if not matrix or not matrix[0]:
        return False
    
    m, n = len(matrix), len(matrix[0])
    
    # ç¬¬ä¸€æ­¥ï¼šäºŒåˆ†æŸ¥æ‰¾è¡Œ
    # æ‰¾åˆ°æœ€åä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´  <= target çš„è¡Œ
    top, bottom = 0, m - 1
    
    while top <= bottom:
        mid_row = (top + bottom) // 2
        if matrix[mid_row][0] <= target:
            # å¦‚æœè¿™ä¸€è¡Œçš„æœ€åä¸€ä¸ªå…ƒç´  >= targetï¼Œè¯´æ˜æ‰¾åˆ°äº†
            if matrix[mid_row][-1] >= target:
                # ç¬¬äºŒæ­¥ï¼šåœ¨è¿™ä¸€è¡Œä¸­äºŒåˆ†æŸ¥æ‰¾
                left, right = 0, n - 1
                while left <= right:
                    mid_col = (left + right) // 2
                    if matrix[mid_row][mid_col] == target:
                        return True
                    elif matrix[mid_row][mid_col] < target:
                        left = mid_col + 1
                    else:
                        right = mid_col - 1
                return False
            else:
                # è¿™ä¸€è¡Œçš„æœ€å¤§å€¼éƒ½ < targetï¼Œç»§ç»­å‘ä¸‹æ‰¾
                top = mid_row + 1
        else:
            # è¿™ä¸€è¡Œçš„æœ€å°å€¼éƒ½ > targetï¼Œå‘ä¸Šæ‰¾
            bottom = mid_row - 1
    
    return False

# æ›´ç®€æ´çš„å®ç°ï¼šå°†äºŒç»´çŸ©é˜µå½“ä½œä¸€ç»´æ•°ç»„
def searchMatrixSimple(matrix, target):
    """
    å°†äºŒç»´çŸ©é˜µå½“ä½œä¸€ç»´æœ‰åºæ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾
    
    æ—¶é—´å¤æ‚åº¦ï¼šO(log(m*n))
    ç©ºé—´å¤æ‚åº¦ï¼šO(1)
    """
    if not matrix or not matrix[0]:
        return False
    
    m, n = len(matrix), len(matrix[0])
    left, right = 0, m * n - 1
    
    while left <= right:
        mid = (left + right) // 2
        # å°†ä¸€ç»´ç´¢å¼•è½¬æ¢ä¸ºäºŒç»´ç´¢å¼•
        row = mid // n
        col = mid % n
        
        if matrix[row][col] == target:
            return True
        elif matrix[row][col] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return False

# æµ‹è¯•ç”¨ä¾‹
matrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]]
print(searchMatrix(matrix, 3))   # è¾“å‡º: True
print(searchMatrix(matrix, 13))  # è¾“å‡º: False
print(searchMatrix(matrix, 60))  # è¾“å‡º: True
```

**è§£é¢˜æ€è·¯è¯¦è§£ï¼š**

è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯åˆ©ç”¨çŸ©é˜µçš„**æœ‰åºæ€§**è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼š

**æ ¸å¿ƒåŸç†ï¼š**
- çŸ©é˜µæ•´ä½“æœ‰åºï¼šæ¯è¡Œé€’å¢ï¼Œæ¯è¡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¤§äºä¸Šä¸€è¡Œçš„æœ€åä¸€ä¸ªå…ƒç´ 
- å¯ä»¥å°†äºŒç»´çŸ©é˜µå½“ä½œä¸€ç»´æœ‰åºæ•°ç»„å¤„ç†

**æ–¹æ³•ä¸€ï¼šä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾**
1. å…ˆå¯¹è¡Œè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å¯èƒ½åŒ…å«targetçš„è¡Œ
2. ç„¶ååœ¨è¯¥è¡Œä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾

**æ–¹æ³•äºŒï¼šå½“ä½œä¸€ç»´æ•°ç»„**
1. å°†äºŒç»´çŸ©é˜µå½“ä½œä¸€ç»´æœ‰åºæ•°ç»„
2. ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼šmid â†’ (row, col) = (mid // n, mid % n)
3. ç›´æ¥æ¯”è¾ƒmatrix[row][col]ä¸target

**ä¸¾ä¾‹è¯´æ˜ï¼š**
```
matrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3

æ–¹æ³•äºŒï¼šå½“ä½œä¸€ç»´æ•°ç»„ [1,3,5,7,10,11,16,20,23,30,34,60]

left=0, right=11
mid=5, matrix[5//4][5%4] = matrix[1][1] = 11 > 3
right=5-1=4

mid=2, matrix[0][2] = 5 > 3
right=2-1=1

mid=0, matrix[0][0] = 1 < 3
left=0+1=1

mid=1, matrix[0][1] = 3 == 3
è¿”å›True âœ“
```

**æ—¶é—´å¤æ‚åº¦è¯æ˜ï¼š**
- æ–¹æ³•ä¸€ï¼šO(log m + log n)
- æ–¹æ³•äºŒï¼šO(log(m*n))
- éƒ½æ˜¯å¯¹æ•°æ—¶é—´å¤æ‚åº¦

---

## 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®

**é¢˜ç›®æè¿°ï¼š**

ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚

ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

**æµ‹è¯•ç”¨ä¾‹ï¼š**

```
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 8
è¾“å‡ºï¼š[3,4]

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 6
è¾“å‡ºï¼š[-1,-1]

ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šnums = [], target = 0
è¾“å‡ºï¼š[-1,-1]
```

**æœ€ç®€å•å®ç°ï¼š**

```python
def searchRange(nums, target):
    """
    æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ï¼šä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾
    
    æ€è·¯ï¼š
    1. ç¬¬ä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ª >= target çš„ä½ç½®
    2. ç¬¬äºŒæ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ª > target çš„ä½ç½®
    3. ç„¶ååˆ¤æ–­è¿™ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„å…ƒç´ æ˜¯å¦éƒ½ç­‰äºtarget
    
    æ—¶é—´å¤æ‚åº¦ï¼šO(log n)
    ç©ºé—´å¤æ‚åº¦ï¼šO(1)
    """
    if not nums:
        return [-1, -1]
    
    # æŸ¥æ‰¾å·¦è¾¹ç•Œï¼šç¬¬ä¸€ä¸ª >= target çš„ä½ç½®
    def find_left_bound():
        left, right = 0, len(nums) - 1
        while left <= right:
            mid = (left + right) // 2
            if nums[mid] < target:
                left = mid + 1
            else:
                right = mid - 1
        return left
    
    # æŸ¥æ‰¾å³è¾¹ç•Œï¼šç¬¬ä¸€ä¸ª > target çš„ä½ç½®
    def find_right_bound():
        left, right = 0, len(nums) - 1
        while left <= right:
            mid = (left + right) // 2
            if nums[mid] <= target:
                left = mid + 1
            else:
                right = mid - 1
        return right
    
    left_bound = find_left_bound()
    right_bound = find_right_bound()
    
    # æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°äº†target
    if left_bound <= right_bound and nums[left_bound] == target:
        return [left_bound, right_bound]
    else:
        return [-1, -1]

# æµ‹è¯•ç”¨ä¾‹
print(searchRange([5,7,7,8,8,10], 8))  # è¾“å‡º: [3,4]
print(searchRange([5,7,7,8,8,10], 6))  # è¾“å‡º: [-1,-1]
print(searchRange([], 0))               # è¾“å‡º: [-1,-1]
```

**è§£é¢˜æ€è·¯è¯¦è§£ï¼š**

è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯ä½¿ç”¨**ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾**åˆ†åˆ«æ‰¾åˆ°å·¦å³è¾¹ç•Œï¼š

**æ ¸å¿ƒåŸç†ï¼š**
- å·¦è¾¹ç•Œï¼šç¬¬ä¸€ä¸ª >= target çš„ä½ç½®
- å³è¾¹ç•Œï¼šæœ€åä¸€ä¸ª <= target çš„ä½ç½®ï¼ˆç¬¬ä¸€ä¸ª > target çš„ä½ç½® - 1ï¼‰

**ç®—æ³•æµç¨‹ï¼š**
1. find_left_bound()ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ª >= target çš„ä½ç½®
2. find_right_bound()ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ª > target çš„ä½ç½®
3. éªŒè¯ï¼šå¦‚æœleft_boundä½ç½®çš„å€¼ç­‰äºtargetï¼Œä¸”left_bound <= right_boundï¼Œè¿”å›[left_bound, right_bound]

**å·¦å³è¾¹ç•Œçš„æŸ¥æ‰¾ï¼š**
- å·¦è¾¹ç•Œï¼šå½“nums[mid] < targetæ—¶ï¼Œleft = mid + 1ï¼›å¦åˆ™right = mid - 1
- å³è¾¹ç•Œï¼šå½“nums[mid] <= targetæ—¶ï¼Œleft = mid + 1ï¼›å¦åˆ™right = mid - 1

**ä¸¾ä¾‹è¯´æ˜ï¼š**
```
nums = [5,7,7,8,8,10], target = 8

å·¦è¾¹ç•ŒæŸ¥æ‰¾ï¼š
left=0, right=5
mid=2, nums[2]=7 < 8, left=3
mid=4, nums[4]=8 >= 8, right=3
mid=3, nums[3]=8 >= 8, right=2
é€€å‡ºï¼Œleft=3

å³è¾¹ç•ŒæŸ¥æ‰¾ï¼š
left=0, right=5
mid=2, nums[2]=7 <= 8, left=3
mid=4, nums[4]=8 <= 8, left=5
mid=5, nums[5]=10 > 8, right=4
é€€å‡ºï¼Œright=4

è¿”å›[3,4] âœ“
```

**æ—¶é—´å¤æ‚åº¦è¯æ˜ï¼š**
- ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼š2 * O(log n)
- æ€»å¤æ‚åº¦ï¼šO(log n)

---

## 33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„

**é¢˜ç›®æè¿°ï¼š**

æ•´æ•°æ•°ç»„ nums æŒ‰å‡åºæ’åˆ—ï¼Œæ•°ç»„ä¸­çš„å€¼ äº’ä¸ç›¸åŒ ã€‚

åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œnums åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ kï¼ˆ0 <= k < nums.lengthï¼‰ä¸Šè¿›è¡Œäº† å‘å·¦æ—‹è½¬ï¼Œä½¿æ•°ç»„å˜ä¸º [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]ï¼ˆä¸‹æ ‡ ä» 0 å¼€å§‹ è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ [0,1,2,4,5,6,7] ä¸‹æ ‡ 3 ä¸Šå‘å·¦æ—‹è½¬åå¯èƒ½å˜ä¸º [4,5,6,7,0,1,2] ã€‚

ç»™ä½  æ—‹è½¬å çš„æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ï¼Œå¦‚æœ nums ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ target ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1 ã€‚

ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

**æµ‹è¯•ç”¨ä¾‹ï¼š**

```
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 0
è¾“å‡ºï¼š4

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 3
è¾“å‡ºï¼š-1

ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šnums = [1], target = 0
è¾“å‡ºï¼š-1
```

**æœ€ç®€å•å®ç°ï¼š**

```python
def search(nums, target):
    """
    æœç´¢æ—‹è½¬æ’åºæ•°ç»„ï¼šäºŒåˆ†æŸ¥æ‰¾å˜ä½“
    
    æ€è·¯ï¼š
    1. æ•°ç»„è¢«åˆ†æˆä¸¤ä¸ªæœ‰åºéƒ¨åˆ†ï¼šå·¦åŠéƒ¨åˆ†å’Œå³åŠéƒ¨åˆ†
    2. é€šè¿‡æ¯”è¾ƒmidä¸rightï¼Œåˆ¤æ–­midåœ¨å“ªä¸ªæœ‰åºéƒ¨åˆ†
    3. ç„¶ååˆ¤æ–­targetæ˜¯å¦åœ¨è¯¥æœ‰åºéƒ¨åˆ†
    
    æ—¶é—´å¤æ‚åº¦ï¼šO(log n)
    ç©ºé—´å¤æ‚åº¦ï¼šO(1)
    """
    if not nums:
        return -1
    
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = (left + right) // 2
        
        if nums[mid] == target:
            return mid
        
        # åˆ¤æ–­midåœ¨å“ªä¸ªæœ‰åºéƒ¨åˆ†
        if nums[mid] >= nums[left]:  # midåœ¨å·¦åŠéƒ¨åˆ†ï¼ˆåŒ…å«ç­‰äºçš„æƒ…å†µï¼‰
            # å·¦åŠéƒ¨åˆ†æœ‰åº
            if nums[left] <= target < nums[mid]:
                # targetåœ¨å·¦åŠéƒ¨åˆ†
                right = mid - 1
            else:
                # targetåœ¨å³åŠéƒ¨åˆ†
                left = mid + 1
        else:  # midåœ¨å³åŠéƒ¨åˆ†
            # å³åŠéƒ¨åˆ†æœ‰åº
            if nums[mid] < target <= nums[right]:
                # targetåœ¨å³åŠéƒ¨åˆ†
                left = mid + 1
            else:
                # targetåœ¨å·¦åŠéƒ¨åˆ†
                right = mid - 1
    
    return -1

# æµ‹è¯•ç”¨ä¾‹
print(search([4,5,6,7,0,1,2], 0))  # è¾“å‡º: 4
print(search([4,5,6,7,0,1,2], 3))  # è¾“å‡º: -1
print(search([1], 0))               # è¾“å‡º: -1
```

**è§£é¢˜æ€è·¯è¯¦è§£ï¼š**

è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯**äºŒåˆ†æŸ¥æ‰¾åœ¨æ—‹è½¬æ•°ç»„ä¸Šçš„åº”ç”¨**ï¼š

**æ ¸å¿ƒåŸç†ï¼š**
- æ—‹è½¬æ•°ç»„è¢«åˆ†æˆä¸¤ä¸ªæœ‰åºéƒ¨åˆ†
- é€šè¿‡midå€¼åˆ¤æ–­å®ƒå±äºå“ªä¸ªæœ‰åºéƒ¨åˆ†
- ç„¶ååœ¨å¯¹åº”çš„æœ‰åºéƒ¨åˆ†ä¸­æŸ¥æ‰¾target

**å…³é”®åˆ¤æ–­ï¼š**
- å¦‚æœnums[mid] >= nums[left]ï¼šmidåœ¨å·¦åŠéƒ¨åˆ†ï¼ˆå‡åºï¼‰
- å¦åˆ™ï¼šmidåœ¨å³åŠéƒ¨åˆ†ï¼ˆå‡åºï¼‰

**æŸ¥æ‰¾é€»è¾‘ï¼š**
- å½“midåœ¨å·¦åŠéƒ¨åˆ†æ—¶ï¼š
  - å¦‚æœtargetåœ¨[nums[left], nums[mid])èŒƒå›´å†…ï¼Œåœ¨å·¦åŠéƒ¨åˆ†æŸ¥æ‰¾
  - å¦åˆ™åœ¨å³åŠéƒ¨åˆ†æŸ¥æ‰¾
- å½“midåœ¨å³åŠéƒ¨åˆ†æ—¶ï¼š
  - å¦‚æœtargetåœ¨(nums[mid], nums[right]]èŒƒå›´å†…ï¼Œåœ¨å³åŠéƒ¨åˆ†æŸ¥æ‰¾
  - å¦åˆ™åœ¨å·¦åŠéƒ¨åˆ†æŸ¥æ‰¾

**ä¸¾ä¾‹è¯´æ˜ï¼š**
```
nums = [4,5,6,7,0,1,2], target = 0

left=0, right=6, mid=3, nums[3]=7
nums[3]=7 >= nums[0]=4ï¼Œmidåœ¨å·¦åŠéƒ¨åˆ†
target=0ä¸åœ¨[4,7)èŒƒå›´å†…ï¼Œå»å³åŠéƒ¨åˆ†æŸ¥æ‰¾
left=4

left=4, right=6, mid=5, nums[5]=1
nums[5]=1 < nums[4]=0ï¼Œmidåœ¨å³åŠéƒ¨åˆ†
target=0ä¸åœ¨(1,2]èŒƒå›´å†…ï¼Œå»å·¦åŠéƒ¨åˆ†æŸ¥æ‰¾
right=4

left=4, right=4, mid=4, nums[4]=0 == target
è¿”å›4 âœ“
```

**æ—¶é—´å¤æ‚åº¦è¯æ˜ï¼š**
- æ¯æ¬¡å¾ªç¯ï¼Œæœç´¢åŒºé—´ç¼©å°ä¸€åŠ
- æœ€åæƒ…å†µï¼šO(log n)
- æ€»å¤æ‚åº¦ï¼šO(log n)

---

## 153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼

**é¢˜ç›®æè¿°ï¼š**

å·²çŸ¥ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ï¼Œé¢„å…ˆæŒ‰ç…§å‡åºæ’åˆ—ï¼Œç»ç”± 1 åˆ° n æ¬¡ æ—‹è½¬ åï¼Œå¾—åˆ°è¾“å…¥æ•°ç»„ã€‚ä¾‹å¦‚ï¼ŒåŸæ•°ç»„ nums = [0,1,2,4,5,6,7] åœ¨å˜åŒ–åå¯èƒ½å¾—åˆ°ï¼š
- è‹¥æ—‹è½¬ 4 æ¬¡ï¼Œåˆ™å¯ä»¥å¾—åˆ° [4,5,6,7,0,1,2]
- è‹¥æ—‹è½¬ 7 æ¬¡ï¼Œåˆ™å¯ä»¥å¾—åˆ° [0,1,2,4,5,6,7]

æ³¨æ„ï¼Œæ•°ç»„ [a[0], a[1], a[2], ..., a[n-1]] æ—‹è½¬ä¸€æ¬¡ çš„ç»“æœä¸ºæ•°ç»„ [a[n-1], a[0], a[1], a[2], ..., a[n-2]] ã€‚

ç»™ä½ ä¸€ä¸ªå…ƒç´ å€¼ äº’ä¸ç›¸åŒ çš„æ•°ç»„ nums ï¼Œå®ƒåŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•°ç»„ï¼Œå¹¶æŒ‰ä¸Šè¿°æƒ…å½¢è¿›è¡Œäº†å¤šæ¬¡æ—‹è½¬ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ•°ç»„ä¸­çš„ æœ€å°å…ƒç´  ã€‚

ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

**æµ‹è¯•ç”¨ä¾‹ï¼š**

```
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [3,4,5,1,2]
è¾“å‡ºï¼š1

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2]
è¾“å‡ºï¼š0

ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼šnums = [11,13,15,17]
è¾“å‡ºï¼š11
```

**æœ€ç®€å•å®ç°ï¼š**

```python
def findMin(nums):
    """
    å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ï¼šäºŒåˆ†æŸ¥æ‰¾
    
    æ€è·¯ï¼š
    1. æ—‹è½¬æ•°ç»„çš„æœ€å°å€¼æ˜¯å”¯ä¸€ä¸€ä¸ªæ¯”å‰ä¸€ä¸ªå…ƒç´ å°çš„å…ƒç´ 
    2. ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼š
       - å¦‚æœnums[mid] > nums[right]ï¼Œæœ€å°å€¼åœ¨å³åŠéƒ¨åˆ†
       - å¦åˆ™ï¼Œæœ€å°å€¼åœ¨å·¦åŠéƒ¨åˆ†ï¼ˆåŒ…å«midï¼‰
    
    æ—¶é—´å¤æ‚åº¦ï¼šO(log n)
    ç©ºé—´å¤æ‚åº¦ï¼šO(1)
    """
    if not nums:
        return -1
    
    left, right = 0, len(nums) - 1
    
    # å¦‚æœæ•°ç»„æ²¡æœ‰æ—‹è½¬ï¼ˆå®Œå…¨å‡åºï¼‰ï¼Œè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
    if nums[left] <= nums[right]:
        return nums[left]
    
    while left < right:
        mid = (left + right) // 2
        
        # å¦‚æœnums[mid] > nums[right]ï¼Œè¯´æ˜æœ€å°å€¼åœ¨å³åŠéƒ¨åˆ†
        if nums[mid] > nums[right]:
            left = mid + 1
        else:
            # æœ€å°å€¼åœ¨å·¦åŠéƒ¨åˆ†ï¼ˆåŒ…å«midï¼‰
            right = mid
    
    return nums[left]

# æµ‹è¯•ç”¨ä¾‹
print(findMin([3,4,5,1,2]))     # è¾“å‡º: 1
print(findMin([4,5,6,7,0,1,2])) # è¾“å‡º: 0
print(findMin([11,13,15,17]))   # è¾“å‡º: 11
```

**è§£é¢˜æ€è·¯è¯¦è§£ï¼š**

è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯ä½¿ç”¨**äºŒåˆ†æŸ¥æ‰¾**æ‰¾åˆ°æ—‹è½¬ç‚¹ï¼š

**æ ¸å¿ƒåŸç†ï¼š**
- æ—‹è½¬æ•°ç»„çš„æœ€å°å€¼æ˜¯å”¯ä¸€ä¸€ä¸ªæ¯”å…¶å‰ä¸€ä¸ªå…ƒç´ å°çš„å…ƒç´ 
- å¯ä»¥é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å¿«é€Ÿå®šä½è¿™ä¸ªä½ç½®

**ç®—æ³•æµç¨‹ï¼š**
1. å¤„ç†ç‰¹æ®Šæƒ…å†µï¼šå¦‚æœæ•°ç»„å®Œå…¨å‡åºï¼Œè¿”å›nums[0]
2. äºŒåˆ†æŸ¥æ‰¾ï¼š
   - å¦‚æœnums[mid] > nums[right]ï¼Œæœ€å°å€¼åœ¨å³åŠéƒ¨åˆ†ï¼Œleft = mid + 1
   - å¦åˆ™ï¼Œæœ€å°å€¼åœ¨å·¦åŠéƒ¨åˆ†ï¼ˆåŒ…å«midï¼‰ï¼Œright = mid
3. å¾ªç¯ç»“æŸæ—¶ï¼ŒleftæŒ‡å‘æœ€å°å€¼ä½ç½®

**ä¸ºä»€ä¹ˆè¿™æ ·åˆ¤æ–­ï¼Ÿ**
- åœ¨æ—‹è½¬æ•°ç»„ä¸­ï¼Œæœ€å°å€¼å·¦ä¾§çš„å…ƒç´ éƒ½å¤§äºç­‰äºnums[right]
- æœ€å¤§å€¼å³ä¾§çš„å…ƒç´ éƒ½å°äºç­‰äºnums[left]
- é€šè¿‡æ¯”è¾ƒnums[mid]å’Œnums[right]å¯ä»¥ç¡®å®šæœ€å°å€¼çš„ä½ç½®

**ä¸¾ä¾‹è¯´æ˜ï¼š**
```
nums = [4,5,6,7,0,1,2]

left=0, right=6, mid=3, nums[3]=7 > nums[6]=2
æœ€å°å€¼åœ¨å³åŠéƒ¨åˆ†ï¼Œleft=4

left=4, right=6, mid=5, nums[5]=1 > nums[6]=2? 1<2
æœ€å°å€¼åœ¨å·¦åŠéƒ¨åˆ†ï¼Œright=5

left=4, right=5, mid=4, nums[4]=0 <= nums[5]=1
æœ€å°å€¼åœ¨å·¦åŠéƒ¨åˆ†ï¼Œright=4

left=4, right=4ï¼Œé€€å‡º
è¿”å›nums[4]=0 âœ“
```

**æ—¶é—´å¤æ‚åº¦è¯æ˜ï¼š**
- æ¯æ¬¡å¾ªç¯ï¼Œæœç´¢åŒºé—´ç¼©å°ä¸€åŠ
- æœ€åæƒ…å†µï¼šO(log n)
- æ€»å¤æ‚åº¦ï¼šO(log n)

---

## 4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°

**é¢˜ç›®æè¿°ï¼š**

ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º m å’Œ n çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ nums1 å’Œ nums2ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ ä¸­ä½æ•° ã€‚

ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(log (m+n)) ã€‚

**æµ‹è¯•ç”¨ä¾‹ï¼š**

```
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums1 = [1,3], nums2 = [2]
è¾“å‡ºï¼š2.00000
è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums1 = [1,2], nums2 = [3,4]
è¾“å‡ºï¼š2.50000
è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3,4] ï¼Œä¸­ä½æ•° (2 + 3) / 2 = 2.5
```

**æœ€ç®€å•å®ç°ï¼š**

```python
def findMedianSortedArrays(nums1, nums2):
    """
    å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°ï¼šäºŒåˆ†æŸ¥æ‰¾
    
    æ€è·¯ï¼š
    1. ç¡®ä¿nums1æ˜¯è¾ƒçŸ­çš„æ•°ç»„
    2. å¯¹nums1è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°åˆ†å‰²ç‚¹
    3. è®¡ç®—åˆ†å‰²åå·¦å³ä¸¤éƒ¨åˆ†çš„å…ƒç´ ä¸ªæ•°
    4. è°ƒæ•´åˆ†å‰²ç‚¹ç›´åˆ°æ»¡è¶³ä¸­ä½æ•°æ¡ä»¶
    
    æ—¶é—´å¤æ‚åº¦ï¼šO(log min(m,n))
    ç©ºé—´å¤æ‚åº¦ï¼šO(1)
    """
    # ç¡®ä¿nums1æ˜¯è¾ƒçŸ­çš„æ•°ç»„
    if len(nums1) > len(nums2):
        nums1, nums2 = nums2, nums1
    
    m, n = len(nums1), len(nums2)
    total = m + n
    half = (total + 1) // 2  # å·¦åŠéƒ¨åˆ†åº”è¯¥æœ‰çš„å…ƒç´ ä¸ªæ•°
    
    left, right = 0, m
    
    while left <= right:
        # nums1çš„åˆ†å‰²ç‚¹
        i = (left + right) // 2  # nums1[0..i-1]åœ¨å·¦åŠéƒ¨åˆ†
        # nums2çš„åˆ†å‰²ç‚¹
        j = half - i  # nums2[0..j-1]åœ¨å·¦åŠéƒ¨åˆ†
        
        # è·å–åˆ†å‰²ç‚¹çš„å·¦å³å…ƒç´ 
        nums1_left = nums1[i-1] if i > 0 else float('-inf')
        nums1_right = nums1[i] if i < m else float('inf')
        nums2_left = nums2[j-1] if j > 0 else float('-inf')
        nums2_right = nums2[j] if j < n else float('inf')
        
        # æ£€æŸ¥åˆ†å‰²æ˜¯å¦æ­£ç¡®
        if nums1_left <= nums2_right and nums2_left <= nums1_right:
            # æ‰¾åˆ°äº†æ­£ç¡®çš„åˆ†å‰²
            if total % 2 == 1:
                # å¥‡æ•°ä¸ªå…ƒç´ ï¼Œä¸­ä½æ•°æ˜¯å·¦åŠéƒ¨åˆ†çš„æœ€å¤§å€¼
                return max(nums1_left, nums2_left)
            else:
                # å¶æ•°ä¸ªå…ƒç´ ï¼Œä¸­ä½æ•°æ˜¯å·¦å³åŠéƒ¨åˆ†æœ€å¤§å€¼çš„å¹³å‡
                return (max(nums1_left, nums2_left) + min(nums1_right, nums2_right)) / 2
        elif nums1_left > nums2_right:
            # nums1å·¦è¾¹å…ƒç´ å¤ªå¤§ï¼Œéœ€è¦å‡å°‘i
            right = i - 1
        else:
            # nums2å·¦è¾¹å…ƒç´ å¤ªå¤§ï¼Œéœ€è¦å¢åŠ i
            left = i + 1
    
    raise ValueError("Input arrays are not sorted")

# æµ‹è¯•ç”¨ä¾‹
print(findMedianSortedArrays([1,3], [2]))        # è¾“å‡º: 2.0
print(findMedianSortedArrays([1,2], [3,4]))      # è¾“å‡º: 2.5
print(findMedianSortedArrays([0,0], [0,0]))      # è¾“å‡º: 0.0
```

**è§£é¢˜æ€è·¯è¯¦è§£ï¼š**

è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯ä½¿ç”¨**äºŒåˆ†æŸ¥æ‰¾**æ‰¾åˆ°æ­£ç¡®çš„åˆ†å‰²ç‚¹ï¼š

**æ ¸å¿ƒåŸç†ï¼š**
- å°†ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆ†å‰²æˆå·¦å³ä¸¤éƒ¨åˆ†
- å·¦åŠéƒ¨åˆ†åŒ…å«è¾ƒå°çš„å…ƒç´ ï¼Œå³åŠéƒ¨åˆ†åŒ…å«è¾ƒå¤§çš„å…ƒç´ 
- ç¡®ä¿å·¦åŠéƒ¨åˆ†çš„æœ€å¤§å€¼ â‰¤ å³åŠéƒ¨åˆ†çš„æœ€å°å€¼

**ç®—æ³•æµç¨‹ï¼š**
1. ç¡®ä¿nums1æ˜¯è¾ƒçŸ­çš„æ•°ç»„
2. å¯¹nums1è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œç¡®å®šåˆ†å‰²ç‚¹i
3. è®¡ç®—nums2çš„åˆ†å‰²ç‚¹j = (m+n+1)//2 - i
4. æ£€æŸ¥åˆ†å‰²æ˜¯å¦æ­£ç¡®ï¼š
   - nums1å·¦åŠæœ€å¤§ â‰¤ nums2å³åŠæœ€å°
   - nums2å·¦åŠæœ€å¤§ â‰¤ nums1å³åŠæœ€å°
5. æ ¹æ®å…ƒç´ æ€»æ•°çš„å¥‡å¶æ€§è¿”å›ä¸­ä½æ•°

**åˆ†å‰²ç¤ºæ„å›¾ï¼š**
```
nums1: [1,3]     nums2: [2]
åˆ†å‰²ç‚¹i=1, j=1

å·¦åŠéƒ¨åˆ†ï¼šnums1[0]=1, nums2[0]=2    æœ€å¤§å€¼=2
å³åŠéƒ¨åˆ†ï¼šnums1[1]=3                 æœ€å°å€¼=3

2 <= 3ï¼Œæ»¡è¶³æ¡ä»¶ âœ“
ä¸­ä½æ•°ï¼š2ï¼ˆå¥‡æ•°ä¸ªå…ƒç´ ï¼Œå–å·¦åŠæœ€å¤§ï¼‰
```

**æ—¶é—´å¤æ‚åº¦è¯æ˜ï¼š**
- å¯¹è¾ƒçŸ­æ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼šO(log min(m,n))
- æ»¡è¶³O(log(m+n))çš„è¦æ±‚
- æ€»å¤æ‚åº¦ï¼šO(log min(m,n))

---

## ğŸ¯ äºŒåˆ†æŸ¥æ‰¾è§£é¢˜æŠ€å·§æ€»ç»“

### 1. äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿
```python
def binary_search_template(nums, target):
    """æ ‡å‡†äºŒåˆ†æŸ¥æ‰¾æ¨¡æ¿"""
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = left + (right - left) // 2
        
        if nums[mid] == target:
            return mid
        elif nums[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return -1
```

### 2. æŸ¥æ‰¾å·¦å³è¾¹ç•Œ
```python
def find_left_bound(nums, target):
    """æŸ¥æ‰¾ç¬¬ä¸€ä¸ª >= target çš„ä½ç½®"""
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = left + (right - left) // 2
        if nums[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return left

def find_right_bound(nums, target):
    """æŸ¥æ‰¾æœ€åä¸€ä¸ª <= target çš„ä½ç½®"""
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = left + (right - left) // 2
        if nums[mid] <= target:
            left = mid + 1
        else:
            right = mid - 1
    
    return right
```

### 3. æ—‹è½¬æ•°ç»„æŸ¥æ‰¾
```python
def search_rotated_array(nums, target):
    """æ—‹è½¬æ•°ç»„äºŒåˆ†æŸ¥æ‰¾"""
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = left + (right - left) // 2
        
        if nums[mid] == target:
            return mid
        
        if nums[mid] >= nums[left]:  # midåœ¨å·¦åŠéƒ¨åˆ†
            if nums[left] <= target < nums[mid]:
                right = mid - 1
            else:
                left = mid + 1
        else:  # midåœ¨å³åŠéƒ¨åˆ†
            if nums[mid] < target <= nums[right]:
                left = mid + 1
            else:
                right = mid - 1
    
    return -1
```

### 4. çŸ©é˜µæœç´¢
```python
def search_matrix(matrix, target):
    """äºŒç»´çŸ©é˜µäºŒåˆ†æŸ¥æ‰¾"""
    if not matrix or not matrix[0]:
        return False
    
    m, n = len(matrix), len(matrix[0])
    left, right = 0, m * n - 1
    
    while left <= right:
        mid = left + (right - left) // 2
        row, col = mid // n, mid % n
        
        if matrix[row][col] == target:
            return True
        elif matrix[row][col] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return False
```

### ğŸ’¡ è§£é¢˜æŠ€å·§

1. **ç¡®å®šè¾¹ç•Œæ¡ä»¶**ï¼šleftå’Œrightçš„åˆå§‹å€¼å’Œå¾ªç¯æ¡ä»¶
2. **è®¡ç®—mid**ï¼šä½¿ç”¨`left + (right - left) // 2`é¿å…æº¢å‡º
3. **å¾ªç¯é€€å‡ºæ¡ä»¶**ï¼šleft > rightæ—¶çš„å¤„ç†
4. **è¾¹ç•Œæƒ…å†µ**ï¼šç©ºæ•°ç»„ã€å•å…ƒç´ æ•°ç»„ç­‰
5. **æœ‰åºæ€§ä¿è¯**ï¼šç¡®ä¿æ•°ç»„æœ‰åºæˆ–éƒ¨åˆ†æœ‰åº

äºŒåˆ†æŸ¥æ‰¾æ˜¯ç®—æ³•åŸºç¡€ï¼ŒæŒæ¡å„ç§å˜ä½“å¯ä»¥è§£å†³å¾ˆå¤šæŸ¥æ‰¾é—®é¢˜ï¼
